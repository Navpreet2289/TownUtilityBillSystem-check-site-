@model TownUtilityBillSystem.Models.UtilitySupplier

@{
    ViewBag.Title = "Contact";
}
<style>
    #map-canvas {
        width: 100%;
        height: 300px;
    }
</style>

<h2>Contact</h2>

<address>
    <p2 style="color: red"><b> @Model.Name</b></p2><br />
    @Model.Address<br />
    @Model.Phone<br />
    @Model.Fax<br />
    <a href="https://@Model.Site.ToString()" target="_blank">@Model.Site</a><br />
    @Model.Email
</address>

<div>
    <div id="map-canvas"></div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC7oyKXdpaKqurqotVj7_bhl9V9_7B5cMQ&libraries=places"
        type="text/javascript"></script>
<script>
    var mapDiv = document.getElementById('map-canvas');
    var address = "@Model.Address.ToString()";
    var mapBuildingZoom = 11;

    var geocoder = new google.maps.Geocoder();

    geocoder.geocode({
        "address": address
    }, function (results, status) {
       map = new google.maps.Map(mapDiv, {
            center: results[0].geometry.location,
            zoom: mapBuildingZoom,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
       })
        marker = new google.maps.Marker({
            position: results[0].geometry.location,
            map: map,
            draggable: true
        });
        });
</script>


